(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,a){},,function(e,t,a){e.exports=a(14)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c);a(12),a(4);var l=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"< Tetters />"),r.a.createElement("div",null))},i=a(2),s=a(1),u=function(e,t,a,n){switch(e){case"left":for(var r=0;r<t.length;r++)for(var c=0;c<t[r].length;c++)if(t[r][c]&&(void 0===a[n.y+r][n.x+c-1]||0!==a[n.y+r][n.x+c-1]))return!1;return!0;case"right":for(var o=0;o<t.length;o++)for(var l=0;l<t[o].length;l++)if(t[o][l]&&(void 0===a[n.y+o][n.x+l+1]||0!==a[n.y+o][n.x+l+1]))return!1;return!0;case"down":for(var i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)if(t[i][s]&&(void 0===a[n.y+i+1]||0!==a[n.y+i+1][n.x+s]))return!1;return!0;default:return!0}},m=function(e,t,a){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(e[n][r]&&(void 0===t[a.y+n]||0!==t[a.y+n][a.x+r]))return!1;return!0},v=function(e,t,a){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)e[n][r]&&(t[a.y+n][a.x+r]=e[n][r])},f=function(e){for(var t=e.length,a=[],n=0;n<t;n++)a[n]=new Array(t).fill(0);for(var r=0;r<t;r++)for(var c=0;c<t;c++)a[c][r]=e[t-1-r][c];return a},d=[[[0,1,0],[1,1,1],[0,0,0]],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]],[[0,0,0],[3,3,3],[0,0,3]],[[0,0,0],[4,4,4],[4,0,0]],[[0,0,0,0],[0,5,5,0],[0,5,5,0],[0,0,0,0]],[[0,0,0],[0,6,6],[6,6,0]],[[0,0,0],[7,7,0],[0,7,7]]],E=Object(n.createContext)(),h=function(e){var t=Object(n.useState)("intro"),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]),h=Object(s.a)(l,2),p=h[0],g=h[1],b=Object(n.useState)(0),N=Object(s.a)(b,2),y=N[0],w=N[1],x=Object(n.useState)(0),S=Object(s.a)(x,2),O=S[0],j=S[1],k=Object(n.useState)(0),P=Object(s.a)(k,2),B=P[0],C=P[1];function L(){var e=Math.floor(7*Math.random());return d[e]}var I=Object(n.useState)(L()),R=Object(s.a)(I,2),T=R[0],D=R[1],M=Object(n.useState)(),W=Object(s.a)(M,2),A=W[0],K=W[1],F=Object(n.useReducer)(_,L()),J=Object(s.a)(F,2),z=J[0],$=J[1];function _(e,t){switch(t.type){case"rotate":return f(e);case"reset":return L();case"next":return A;default:return e}}var q=Object(n.useReducer)(U,{y:0,x:3}),G=Object(s.a)(q,2),H=G[0],Q=G[1];function U(e,t){switch(t.type){case"reset":return{y:0,x:3};case"rotate":return m(f(z),p,e)&&$({type:"rotate"}),e;case"moveLeft":return u("left",z,p,e)?Object(i.a)({},e,{x:e.x-1}):e;case"moveRight":return u("right",z,p,e)?Object(i.a)({},e,{x:e.x+1}):e;case"moveDown":if(u("down",z,p,e))return Object(i.a)({},e,{y:e.y+1});if(v(z,p,e),p[2].every(function(e){return 0===e}))return function(){for(var e=[],t=22;t>=0;t--)p[t].includes(0)||e.unshift(t);for(var a=0,n=e;a<n.length;a++){var r=n[a];p.splice(r,1),p.unshift(new Array(10).fill(0))}e.length>0&&(j(O+e.length*(10+y)),C(B+e.length),w(Math.floor(B/10)))}(),$({type:"next"}),K(T),D(L()),{y:0,x:3};o("lost");break;default:return e}}function V(e){switch(e.keyCode){case 65:Q({type:"moveLeft"});break;case 87:Q({type:"rotate"});break;case 68:Q({type:"moveRight"});break;case 83:Q({type:"moveDown"})}}return Object(n.useEffect)(function(){if("game"===c)return window.addEventListener("keydown",V),function(){window.removeEventListener("keydown",V)}},[c]),Object(n.useEffect)(function(){if("game"===c){var e=setInterval(function(){return Q({type:"moveDown"})},1e3-50*y);return function(){clearInterval(e)}}},[c,y]),r.a.createElement(E.Provider,{value:{gameState:[c,o],field:p,level:y,score:O,lines:B,activePiece:[z,$,_],activePiecePosition:[H,Q,U],nextPiece:T,reset:function(){w(0),j(0),C(0),$({type:"reset"}),Q({type:"reset"}),D(L()),g([[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]),o("game")}}},e.children)};var p=function(e){var t="";switch(e.value){case 1:t="one";break;case 2:t="two";break;case 3:t="three";break;case 4:t="four";break;case 5:t="five";break;case 6:t="six";break;case 7:t="seven";break;default:t="zero"}return r.a.createElement("div",{className:t,id:e.id})},g=function(){var e=Object(n.useContext)(E),t=e.field,a=e.activePiece,c=e.activePiecePosition,o=e.gameState,l=e.reset;switch(o[0]){case"intro":return r.a.createElement("div",{className:"Intro-Section"},r.a.createElement("div",{className:"Intro-Portrait"}),r.a.createElement("div",{className:"Intro-Top"},r.a.createElement("h2",null,"Oh, hello there!"),r.a.createElement("p",null,"Welcome to the game of",r.a.createElement("br",null),"< Tetters />")),r.a.createElement("div",{className:"Intro-Mid"},r.a.createElement("div",{className:"Intro-Mid-Button",onClick:function(){o[1]("game")}},"Start")));case"game":var i=function(e,t,a){for(var n=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],r=0;r<e[0].length;r++)for(var c=0;c<e[0][r].length;c++)e[0][r][c]&&(n[t[0].y+r][t[0].x+c]=e[0][r][c]);for(var o=0;o<a.length;o++)for(var l=0;l<a[o].length;l++)a[o][l]&&(n[o][l]=a[o][l]);return n}(a,c,t);return r.a.createElement("div",{className:"Field-Section",id:"Field"},i.filter(function(e,t){return t>2}).map(function(e,t){return e.map(function(e,a){return r.a.createElement(p,{id:"".concat(t).concat(a),key:"".concat(t).concat(a),value:e})})}));case"lost":return r.a.createElement("div",{className:"Lost-Section"},r.a.createElement("div",{className:"Lost-Top"},r.a.createElement("div",{className:"Lost-Portrait"}),r.a.createElement("h2",null,"Seems like you lost"),r.a.createElement("p",null,"Better luck next time!"),r.a.createElement("div",{className:"Restart-Button",onClick:function(){return l()}},"Try again ")),r.a.createElement("div",{className:"Lost-Bottom"},r.a.createElement("p",null,"Leaderboard and scores storage are not implemented. To share your results take a screenshot."),r.a.createElement("div",{className:"Okay-Portrait"})));default:throw new Error("woooops, something is wrong with the game state :(")}};var b=function(){var e=Object(n.useContext)(E),t=e.nextPiece;switch(e.gameState[0]){case"intro":return r.a.createElement("div",{className:"Next-Section"},r.a.createElement("p",{className:"Next-Label"},"Next piece"),r.a.createElement("p",{className:"Next-Intro"},"will be displayed right here"));case"game":var a="Next-Piece-Container-"+t.length;return r.a.createElement("div",{className:"Next-Section"},r.a.createElement("p",{className:"Next-Label"},"Next piece"),r.a.createElement("div",{className:a},t.map(function(e,t){return e.map(function(e,a){return r.a.createElement(p,{id:"".concat(t).concat(a),key:"".concat(t).concat(a),value:e})})})));case"lost":return r.a.createElement("div",{className:"Next-Section"},r.a.createElement("p",{className:"Next-Label"},"Next piece"),r.a.createElement("p",{className:"Next-Lost"},"will not appear bacuse you lost"));default:throw new Error("woooops, something is wrong with the game state :(")}};function N(){var e=Object(n.useContext)(E).level;return r.a.createElement("div",{className:"Level-Section Progress-Subsection"},r.a.createElement("p",null,"Level"),r.a.createElement("p",null,e))}function y(){var e=Object(n.useContext)(E).score;return r.a.createElement("div",{className:"Score-Section Progress-Subsection"},r.a.createElement("p",null,"Score"),r.a.createElement("p",null,e))}function w(){var e=Object(n.useContext)(E).lines;return r.a.createElement("div",{className:"Lines-Section Progress-Subsection"},r.a.createElement("p",null,"Lines"),r.a.createElement("p",null,e))}var x=function(){return r.a.createElement("div",{className:"Progress-Section"},r.a.createElement(N,null),r.a.createElement(y,null),r.a.createElement(w,null))};function S(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Left-Button",onClick:function(){"game"===a[0]&&t[1]({type:"moveLeft"})}},r.a.createElement("span",{className:"Button-Title"},"Left"),r.a.createElement("span",{id:"Button-Key"},"A"))}function O(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Right-Button",onClick:function(){"game"===a[0]&&t[1]({type:"moveRight"})}},r.a.createElement("span",{className:"Button-Title"},"Right"),r.a.createElement("span",{id:"Button-Key"},"D"))}function j(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Down-Button",onClick:function(){"game"===a[0]&&t[1]({type:"moveDown"})}},r.a.createElement("span",{className:"Button-Title"},"Down"),r.a.createElement("span",{id:"Button-Key"},"S"))}function k(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Rotate-Button",onClick:function(){"game"===a[0]&&t[1]({type:"rotate"})}},r.a.createElement("span",{className:"Button-Title"},"Rotate"),r.a.createElement("span",{id:"Button-Key"},"W"))}var P=function(){return r.a.createElement("div",{className:"Controls-Section"},r.a.createElement("p",{className:"Controls-Label"},"Controls"),r.a.createElement("div",{className:"Controls-Container"},r.a.createElement("span",{className:"eye"}),r.a.createElement(S,null),r.a.createElement(O,null),r.a.createElement(j,null),r.a.createElement(k,null)))};var B=function(){return r.a.createElement(h,null,r.a.createElement("main",{className:"Main"},r.a.createElement("div",{className:"Sections-Wrapper"},r.a.createElement(g,null),r.a.createElement("div",{className:"Info-Wrapper"},r.a.createElement(b,null),r.a.createElement(x,null)),r.a.createElement(P,null))))};var C=function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"Signature"},"Made by"),r.a.createElement("a",{href:"https://github.com/BooleanPanda",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"Signature-Pic"})))};a(13);var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l,null),r.a.createElement(B,null),r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.1afd36cd.chunk.js.map