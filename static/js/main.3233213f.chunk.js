(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,a){},,function(e,t,a){e.exports=a(14)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c);a(12),a(4);var o=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"< Tetters />"),r.a.createElement("div",null))},i=a(2),s=a(1),u=function(e,t,a,n){switch(e){case"left":for(var r=0;r<t.length;r++)for(var c=0;c<t[r].length;c++)if(t[r][c]&&(void 0===a[n.y+r][n.x+c-1]||0!==a[n.y+r][n.x+c-1]))return!1;return!0;case"right":for(var l=0;l<t.length;l++)for(var o=0;o<t[l].length;o++)if(t[l][o]&&(void 0===a[n.y+l][n.x+o+1]||0!==a[n.y+l][n.x+o+1]))return!1;return!0;case"down":for(var i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)if(t[i][s]&&(void 0===a[n.y+i+1]||0!==a[n.y+i+1][n.x+s]))return!1;return!0;default:return!0}},m=function(e,t,a){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(e[n][r]&&(void 0===t[a.y+n]||0!==t[a.y+n][a.x+r]))return!1;return!0},v=function(e,t,a){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)e[n][r]&&(t[a.y+n][a.x+r]=e[n][r])},f=function(e){for(var t=e.length,a=[],n=0;n<t;n++)a[n]=new Array(t).fill(0);for(var r=0;r<t;r++)for(var c=0;c<t;c++)a[c][r]=e[t-1-r][c];return a},d=[[[0,1,0],[1,1,1],[0,0,0]],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]],[[0,0,0],[3,3,3],[0,0,3]],[[0,0,0],[4,4,4],[4,0,0]],[[0,0,0,0],[0,5,5,0],[0,5,5,0],[0,0,0,0]],[[0,0,0],[0,6,6],[6,6,0]],[[0,0,0],[7,7,0],[0,7,7]]],E=Object(n.createContext)(),p=function(e){var t=Object(n.useState)("intro"),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]),p=Object(s.a)(o,2),h=p[0],g=p[1],b=Object(n.useState)(0),y=Object(s.a)(b,2),N=y[0],w=y[1],x=Object(n.useState)(0),O=Object(s.a)(x,2),S=O[0],k=O[1],j=Object(n.useState)(0),P=Object(s.a)(j,2),B=P[0],C=P[1];function L(){var e=Math.floor(7*Math.random());return d[e]}var I=Object(n.useState)(L()),T=Object(s.a)(I,2),R=T[0],A=T[1],D=Object(n.useState)(),M=Object(s.a)(D,2),W=M[0],F=M[1],K=Object(n.useReducer)($,L()),J=Object(s.a)(K,2),z=J[0],Q=J[1];function $(e,t){switch(t.type){case"rotate":return f(e);case"reset":return L();case"next":return W;default:return e}}var _=Object(n.useReducer)(U,{y:0,x:3}),q=Object(s.a)(_,2),G=q[0],H=q[1];function U(e,t){switch(t.type){case"reset":return{y:0,x:3};case"rotate":return m(f(z),h,e)&&Q({type:"rotate"}),e;case"moveLeft":return u("left",z,h,e)?Object(i.a)({},e,{x:e.x-1}):e;case"moveRight":return u("right",z,h,e)?Object(i.a)({},e,{x:e.x+1}):e;case"moveDown":if(u("down",z,h,e))return Object(i.a)({},e,{y:e.y+1});if(v(z,h,e),h[2].every(function(e){return 0===e}))return function(){for(var e=[],t=22;t>=0;t--)h[t].includes(0)||e.unshift(t);for(var a=0,n=e;a<n.length;a++){var r=n[a];h.splice(r,1),h.unshift(new Array(10).fill(0))}e.length>0&&(k(S+e.length*(10+N)),C(B+e.length),w(Math.floor(B/10)))}(),Q({type:"next"}),F(R),A(L()),{y:0,x:3};l("lost");break;default:return e}}function V(e){switch(e.keyCode){case 65:H({type:"moveLeft"});break;case 87:H({type:"rotate"});break;case 68:H({type:"moveRight"});break;case 83:H({type:"moveDown"})}}return Object(n.useEffect)(function(){if("game"===c)return window.addEventListener("keydown",V),function(){window.removeEventListener("keydown",V)}},[c]),Object(n.useEffect)(function(){if("game"===c){var e=setInterval(function(){return H({type:"moveDown"})},1e3-50*N);return function(){clearInterval(e)}}},[c,N]),r.a.createElement(E.Provider,{value:{gameState:[c,l],field:h,level:N,score:S,lines:B,activePiece:[z,Q,$],activePiecePosition:[G,H,U],nextPiece:R,reset:function(){w(0),k(0),C(0),Q({type:"reset"}),H({type:"reset"}),A(L()),g([[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]),l("game")}}},e.children)};var h=function(e){var t="";switch(e.value){case 1:t="one";break;case 2:t="two";break;case 3:t="three";break;case 4:t="four";break;case 5:t="five";break;case 6:t="six";break;case 7:t="seven";break;default:t="zero"}return r.a.createElement("div",{className:t,id:e.id})},g=function(){var e=Object(n.useContext)(E),t=e.field,a=e.activePiece,c=e.activePiecePosition,l=e.gameState,o=e.reset;switch(l[0]){case"intro":return r.a.createElement("div",{className:"Intro-Section"},r.a.createElement("div",{className:"Intro-Portrait"}),r.a.createElement("div",{className:"Intro-Top"},r.a.createElement("h2",null,"Oh, hello there!"),r.a.createElement("p",null,"Welcome to the game of ","< Tetters />",r.a.createElement("span",null,"*"))),r.a.createElement("div",{className:"Intro-Mid"},r.a.createElement("div",{className:"Intro-Mid-Button",onClick:function(){l[1]("game")}},"Click here to start")),r.a.createElement("div",{className:"Intro-Bottom"},r.a.createElement("div",{className:"FAQ"},r.a.createElement("span",null,"?"),r.a.createElement("p",null,"This game was made by a pleb, so don't get angry if you find any bugs. Thanks for trying it out, I appreciate it."),r.a.createElement("p",null,"By the way, bugs can be reported... nowhere, I guess, as they are unlikely to be fixed anyway."))),r.a.createElement("div",{className:"Intro-Add"},r.a.createElement("p",null,"Any resemblence to existing games is purely coincidential."),r.a.createElement("span",null,"*")));case"game":var i=function(e,t,a){for(var n=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],r=0;r<e[0].length;r++)for(var c=0;c<e[0][r].length;c++)e[0][r][c]&&(n[t[0].y+r][t[0].x+c]=e[0][r][c]);for(var l=0;l<a.length;l++)for(var o=0;o<a[l].length;o++)a[l][o]&&(n[l][o]=a[l][o]);return n}(a,c,t);return r.a.createElement("div",{className:"Field-Section",id:"Field"},i.filter(function(e,t){return t>2}).map(function(e,t){return e.map(function(e,a){return r.a.createElement(h,{id:"".concat(t).concat(a),key:"".concat(t).concat(a),value:e})})}));case"lost":return r.a.createElement("div",{className:"Lost-Section"},r.a.createElement("div",{className:"Lost-Top"},r.a.createElement("div",{className:"Lost-Portrait"}),r.a.createElement("h2",null,"Seems like you lost"),r.a.createElement("p",null,"Better luck next time!"),r.a.createElement("div",{className:"Restart-Button",onClick:function(){return o()}},"Try again ")),r.a.createElement("div",{className:"Lost-Bottom"},r.a.createElement("p",null,"Leaderboard and scores storage are not implemented. To share your results take a screenshot."),r.a.createElement("div",{className:"Okay-Portrait"})));default:throw new Error("woooops, something is wrong with the game state :(")}};var b=function(){var e=Object(n.useContext)(E),t=e.nextPiece;switch(e.gameState[0]){case"intro":return r.a.createElement("div",{className:"Next-Section"},r.a.createElement("p",{className:"Next-Label"},"Next piece"),r.a.createElement("p",{className:"Next-Intro"},"will be displayed right here"));case"game":var a="Next-Piece-Container-"+t.length;return r.a.createElement("div",{className:"Next-Section"},r.a.createElement("p",{className:"Next-Label"},"Next piece"),r.a.createElement("div",{className:a},t.map(function(e,t){return e.map(function(e,a){return r.a.createElement(h,{id:"".concat(t).concat(a),key:"".concat(t).concat(a),value:e})})})));case"lost":return r.a.createElement("div",{className:"Next-Section"},r.a.createElement("p",{className:"Next-Label"},"Next piece"),r.a.createElement("p",{className:"Next-Lost"},"will not appear bacuse you lost"));default:throw new Error("woooops, something is wrong with the game state :(")}};function y(){var e=Object(n.useContext)(E).level;return r.a.createElement("div",{className:"Level-Section Progress-Subsection"},r.a.createElement("p",null,"Level"),r.a.createElement("p",null,e))}function N(){var e=Object(n.useContext)(E).score;return r.a.createElement("div",{className:"Score-Section Progress-Subsection"},r.a.createElement("p",null,"Score"),r.a.createElement("p",null,e))}function w(){var e=Object(n.useContext)(E).lines;return r.a.createElement("div",{className:"Lines-Section Progress-Subsection"},r.a.createElement("p",null,"Lines"),r.a.createElement("p",null,e))}var x=function(){return r.a.createElement("div",{className:"Progress-Section"},r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(w,null))};function O(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Left-Button",onClick:function(){"game"===a[0]&&t[1]({type:"moveLeft"})}},r.a.createElement("span",{className:"Button-Title"},"Left"),r.a.createElement("span",{id:"Button-Key"},"A"))}function S(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Right-Button",onClick:function(){"game"===a[0]&&t[1]({type:"moveRight"})}},r.a.createElement("span",{className:"Button-Title"},"Right"),r.a.createElement("span",{id:"Button-Key"},"D"))}function k(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Down-Button",onClick:function(){"game"===a[0]&&t[1]({type:"moveDown"})}},r.a.createElement("span",{className:"Button-Title"},"Down"),r.a.createElement("span",{id:"Button-Key"},"S"))}function j(){var e=Object(n.useContext)(E),t=e.activePiecePosition,a=e.gameState;return r.a.createElement("div",{className:"Button",id:"Rotate-Button",onClick:function(){"game"===a[0]&&t[1]({type:"rotate"})}},r.a.createElement("span",{className:"Button-Title"},"Rotate"),r.a.createElement("span",{id:"Button-Key"},"W"))}var P=function(){return r.a.createElement("div",{className:"Controls-Section"},r.a.createElement("p",{className:"Controls-Label"},"Controls"),r.a.createElement("div",{className:"Controls-Container"},r.a.createElement("span",{className:"eye"}),r.a.createElement(O,null),r.a.createElement(S,null),r.a.createElement(k,null),r.a.createElement(j,null)))};var B=function(){return r.a.createElement(p,null,r.a.createElement("main",{className:"Main"},r.a.createElement("div",{className:"Sections-Wrapper"},r.a.createElement(g,null),r.a.createElement("div",{className:"Info-Wrapper"},r.a.createElement(b,null),r.a.createElement(x,null)),r.a.createElement(P,null))))};var C=function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"Signature"},"Made by"),r.a.createElement("a",{href:"https://github.com/BooleanPanda",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"Signature-Pic"})))};a(13);var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o,null),r.a.createElement(B,null),r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.3233213f.chunk.js.map